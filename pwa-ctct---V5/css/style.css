/* ===== Fonts: Be Vietnam Pro (global) ===== */
@import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap');

/* ===== Toàn site: nền gradient đồng bộ ===== */
html, body{
  margin:0; padding:0; min-height:100vh;
  font-family: "Be Vietnam Pro", system-ui, -apple-system, "Segoe UI",
               Roboto, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  letter-spacing: .1px;
  background: linear-gradient(180deg, #8B1616 0%, #A41919 60%, #B93E1E 85%, #FFD966 100%);
  color:#fff;
}

/* ==== Biến màu dùng chung (bổ sung để đồng bộ với các trang review) ==== */
:root{
  --ok-green:#19a307;   /* Đúng */
  --ok-green-100:#DCFCE7;
}

/* ===== Trang chủ: overlay ảnh + gradient ===== */
body.home{
  background: linear-gradient(
      135deg,
      rgba(220, 40, 40, 0.65),
      rgba(180, 20, 20, 0.65)
    ),
    url("assets/bg-desktop.png") no-repeat center/cover;
  background-attachment: fixed;
}

/* ===== HERO căn giữa toàn khối ===== */
.hero {
  min-height: calc(100vh - 90px);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 32px 16px;
  transform: translateY(-30px);
}
.hero__container{
  width: 100%;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 24px;
}
.hero__container h1{
  margin: 0 0 18px;
  font-size: clamp(48px, 8vw, 96px);
  font-weight: 700;
}
.hero__container p{
  margin: 0 auto 28px;
  max-width: 740px;
  font-size: clamp(15px, 2.4vw, 19px);
  line-height: 1.6;
  opacity: .95;
}
.hero__actions{
  display: flex;
  gap: 18px;
  justify-content: center;
  flex-wrap: wrap;
}

/* ===== Nút ghost ===== */
.btn-ghost{
  font-size: 18px;
  padding: 14px 32px;
  border-radius: 30px;
  font-weight: 600;
  text-decoration: none;
  display: inline-block;
  transition: transform .2s ease, background .25s ease, color .25s ease, box-shadow .25s ease;
  background: transparent;
  color: #fff;
  border: 2px solid transparent;
  cursor: pointer;
}
.btn-ghost:hover{
  background: #fff;
  color: #A41919;
  border-color: #fff;
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(0,0,0,.18);
}
.btn-ghost:active{
  transform: translateY(0);
  box-shadow: 0 6px 16px rgba(0,0,0,.16);
}
.btn-ghost:focus-visible{
  outline: 3px solid rgba(255,217,102,.9);
  outline-offset: 3px;
  border-radius: 32px;
}

/* (Tùy chọn) nếu còn dùng .btn-primary/.btn-outline */
.btn-primary, .btn-outline{
  font-size: 18px;
  padding: 14px 32px;
  border-radius: 30px;
  font-weight: 700;
  text-decoration: none;
  display: inline-block;
  transition: all .2s ease;
  cursor: pointer;
}
.btn-primary{ background:#fff; color:#A41919; border:none; }
.btn-primary:hover{ background:#FFD966; color:#111; }
.btn-outline{ background:transparent; color:#fff; border:2px solid #fff; }
.btn-outline:hover{ background:rgba(255,255,255,.2); color:#FFD966; border-color:#FFD966; }

/* Mobile tweak */
@media (max-width:480px){
  .hero{ min-height:calc(100dvh - 0px); }
}

/* ===== NAV QUIZ PAGE ===== */
.page-quiz .nav__links a {
  color: #fff;
  font-weight: 600;
  text-decoration: none;
  transition: all .2s ease;
}
.page-quiz .nav__links a:hover {
  color: #FFD966;
  transform: scale(1.05);
}
.page-quiz .nav__links a.is-active {
  color: #FFD966;
  position: relative;
}
.page-quiz .nav__links a.is-active::after {
  content:""; position:absolute;
  left:0; right:0; bottom:-6px;
  height:3px; background:#FFD966;
  border-radius:999px;
}

/* ===== START BUTTON ===== */
#startCard .btn-primary {
  background: #A41919;
  color: #fff;
  font-size: 20px;
  font-weight: 800;
  padding: 16px 36px;
  border-radius: 32px;
  transition: all .25s ease;
}
#startCard .btn-primary:hover {
  background: #FFD966;
  color: #111;
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}

/* ============ Trợ lý AI — Khay góc phải (FINAL) ============ */
.ai-fab{
  position: fixed;
  right: 20px;
  bottom: 20px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.08);
  background: #ffd966;
  color: #111;
  font-weight: 800;
  line-height: 1;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(0,0,0,.18);
  width: auto;
  z-index: 1100;
}
.ai-fab[hidden]{ display:none !important; }
.ai-fab:focus-visible{
  outline: 3px solid rgba(255,217,102,.9);
  outline-offset: 2px;
}

/* Khay chat */
.ai-tray[hidden]{ display:none !important; }
.ai-tray{ position: fixed; right: 20px; bottom: 20px; z-index: 1200; }

.ai-tray__panel{
  width: min(380px, 92vw);
  height: min(520px, 70vh);
  background: #fff; color: #111;
  border-radius: 14px;
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
  overflow: hidden;
  display: flex; flex-direction: column;
  border: 1px solid rgba(0,0,0,.08);
  transform: translateY(12px); opacity: 0;
  transition: .18s ease;
}
.ai-tray:not([hidden]) .ai-tray__panel{ transform: none; opacity: 1; }

.ai-tray__head{
  background: #ffd966;
  padding: 10px 12px;
  display:flex; align-items:center; justify-content:space-between;
  border-bottom:1px solid rgba(0,0,0,.06);
}
.ai-head-actions{ display:flex; align-items:center; gap:8px; }
.ai-head-btn{
  width:28px; height:28px;
  display:grid; place-items:center;
  border:1px solid rgba(0,0,0,.10);
  border-radius:8px;
  background:#fff; color:#333;
  line-height:1; cursor:pointer;
}
.ai-head-btn:hover{ background:#f6f6f6; }
.ai-head-btn:focus-visible{
  outline: 2px solid #111;
  outline-offset: 2px;
}

.ai-tray__messages{
  flex: 1; overflow-y:auto; padding: 10px;
  display:flex; flex-direction:column; gap:8px; background:#f7f7f8;
  font-size: 15px;
  overscroll-behavior: contain;
}
.msg{ max-width:88%; padding:8px 12px; border-radius:12px; line-height:1.4; border:1px solid rgba(0,0,0,.06); }
.msg.bot{ align-self:flex-start; background:#fff; }
.msg.user{ align-self:flex-end;   background:#e6f2ff; }

/* Form */
.ai-tray__form{
  display:flex; gap:8px; padding:10px;
  background:#fff; border-top:1px solid #eee;
}
.ai-tray__form input{
  flex:1; padding:10px 12px;
  border-radius:999px; border:1px solid #ddd; outline:none;
  font-size: 15px;
}
.ai-tray__form input::placeholder{ color:#777; }
.ai-tray__form button{
  padding:10px 14px; border-radius:999px; border:0;
  background:#ffd966; color:#111; font-weight:800; cursor:pointer;
}
.ai-tray__form button:focus-visible{
  outline: 3px solid rgba(255,217,102,.9);
  outline-offset: 2px;
}

/* Giảm chuyển động */
@media (prefers-reduced-motion: reduce){
  .ai-tray__panel{ transition: none; }
}

/* Mobile */
@media (max-width: 480px){
  .ai-tray__panel{ width: 96vw; height: 75vh; }
  .msg{ max-width: 92%; }
}

/* căn đều phần câu hỏi & đáp án ở UI */
#qText, .opt-text, .explanation { text-align: justify; }

/* chi tiết bảng xem lại nếu dùng bảng text */
.review-question { text-align: justify; }

/* ===== Đồng bộ với trang Review: màu Đúng xanh lá ===== */
.judge.ok{ color: var(--ok-green); }
.pill.ok{ background: var(--ok-green-100); color:#064E3B; } /* text xanh đậm hơn trên nền nhạt */

/* ===== PTKV3 NAV • Layout 3 cột cân đối (brand | menu | actions) ===== */
@media (min-width: 1025px){
  header.nav .nav__inner{
    display: grid !important;
    grid-template-columns: auto 1fr auto;  /* brand | links | actions */
    align-items: center !important;
    gap: 22px !important;
    max-width: 1180px !important;
    margin: 0 auto !important;
    padding: 10px 16px !important;
  }

  /* Brand trái */
  header.nav .brand{
    justify-self: start !important;
    font-weight: 800;
  }

  /* Menu giữa – căn đúng trung tâm, khoảng cách đều */
  header.nav .nav__links{
    justify-self: center !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 28px !important;
    margin: 0 !important;           /* xoá margin cũ gây lệch */
  }

  /* Cụm hành động phải (chip user / nút auth) */
  header.nav .nav__actions{
    justify-self: end !important;
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
    margin: 0 !important;           /* không đẩy xa khỏi menu */
  }

  /* Nút auth: sắc, gọn, đồng bộ chiều cao item */
  .btn-auth{
    height: 34px !important;
    padding: 6px 14px !important;
    border-radius: 999px !important;
    border: 1px solid rgba(255,255,255,.24) !important;
    background: rgba(255,255,255,.12) !important;
    color: #fff !important;
    font-weight: 700 !important;
    font-size: 14.5px !important;
    line-height: 1 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: 0 4px 14px rgba(0,0,0,.12) !important;
    transition: background .2s, box-shadow .2s, transform .06s !important;
  }
  .btn-auth:hover{
    background: rgba(255,255,255,.18) !important;
    box-shadow: 0 6px 18px rgba(0,0,0,.16) !important;
    transform: translateY(-1px);
  }
  .btn-auth--primary{
    background: linear-gradient(180deg,#FFE68A,#FFD04D) !important;
    color: #111 !important;
    border: none !important;
    box-shadow: 0 6px 16px rgba(0,0,0,.18) !important;
  }
  .btn-auth--primary:hover{ filter: brightness(1.03); }

  /* Link menu: hover tinh tế */
  header.nav .nav__links a{
    transition: color .18s, transform .12s;
  }
  header.nav .nav__links a:hover{
    color: #FFD966;
    transform: translateY(-1px);
  }
}

/* Nếu đã đăng nhập và dùng user-chip + dropdown, vẫn giữ style đẹp */
@media (min-width:1025px){
  .user-chip{
    display: inline-flex; align-items:center; gap:8px;
    padding: 4px 10px; border-radius: 999px;
    background: rgba(255,255,255,.14);
    border: 1px solid rgba(255,255,255,.18);
    color:#fff; font-weight:700; cursor:pointer;
    transition: background .2s, box-shadow .2s;
  }
  .user-chip:hover{ background: rgba(255,255,255,.22); box-shadow: 0 6px 16px rgba(0,0,0,.18); }
  .chip-avatar{ width:24px; height:24px; border-radius:50%; background:#FFD966; color:#8B1616; display:flex; align-items:center; justify-content:center; font-weight:800; font-size:13px; }
  .chip-name{ max-width:140px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
}
